(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4146],{51510:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/certificates",function(){return r(4099)}])},46554:function(e,t,r){"use strict";r.d(t,{Z:function(){return userFetch}});var s=r(67294),i=r(45007),n=r(41935);r(58518);var a=r(31578),c=r(70436),l=r(98691),o=r(41296),u=r(11163),userFetch=()=>{let e=(0,u.useRouter)(),t=(0,i.I0)(),r=(0,i.v9)(e=>e.loggedUser.profile),d=(0,i.v9)(e=>e.profile.profile);(0,s.useEffect)(()=>{if(r&&r.uid){if(!d||0==Object.keys(d).length){let fetchUserData=async()=>{try{let e=await void(0,a.a)("/profile").then(e=>(c.a.setState(t=>({...t,user:e.data})),e.data)).catch(e=>(c.a.setState({user:null}),null));if(null!==e)t((0,o.In)(e));else throw Error("Failed to fetch user data")}catch(e){console.error(e)}};fetchUserData()}}else t((0,n.pn)()),t((0,l.wM)()),t((0,o.FZ)()),e.push("/login")},[r,d,t,e]);let{status:h,profile:f,error:p}=(0,i.v9)(e=>e.profile);return{profile:f,status:h,error:p}}},4099:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return certificates}});var s=r(85893),i=r(67294),n=r(86886),a=r(72747),c=r(58518),l=r(69417),o=r(2386),u=r(78462),d=r(79953),h=r(50062),f=r(91444),Certificates_Internships=e=>{var t;let{certificates:r}=e,[a,c]=(0,i.useState)(null);(0,i.useEffect)(()=>{r.lists&&r.lists.length>0&&c(r.lists[0])},[r]);let copyToClipBoard=e=>{{let t=document.createElement("textarea");t.innerHTML="".concat(window.location.origin,"/certificates/").concat(e),document.body.appendChild(t),t.select();let r=document.execCommand("copy");return document.body.removeChild(t),f.Am.success("Link Copied !!"),r}};return(0,s.jsxs)(n.ZP,{container:!0,spacing:1,children:[(0,s.jsx)(n.ZP,{item:!0,md:2,children:(0,s.jsx)(o.C1,{children:(0,s.jsx)(u.Z,{children:(null==r?void 0:r.lists.length)?r.lists.map(e=>(0,s.jsx)(o.HC,{onClick:()=>c(e),selected:e._id===(null==a?void 0:a._id),children:(0,s.jsx)(d.Z,{primary:null==e?void 0:e.category})},e._id)):(0,s.jsx)(o.kn,{children:"You haven't completed any course"})})})}),(0,s.jsx)(n.ZP,{item:!0,md:10,children:(null==r?void 0:null===(t=r.lists)||void 0===t?void 0:t.length)?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(l.Z,{variant:"outlined",sx:{marginBottom:"8px",marginTop:"10px"},onClick:()=>copyToClipBoard(null==a?void 0:a._id),children:"Copy Certificate Link"}),(0,s.jsx)(h.ZP,{selected:a,user:r.user})]}):(0,s.jsx)(o.kn,{children:"You haven't any Internships"})})]})},p=r(98254),g=r(33454),m=r(96420),x=r(53946),v=r(46554),certificates=()=>{let[e,t]=(0,i.useState)({trainings:[],internships:[],user:""}),[r,l]=(0,i.useState)("training");(0,v.Z)(),(0,i.useEffect)(()=>{let fetchCertificates=async()=>{try{var e;let r=await c.Z.get("profile/certificates");t((null===(e=r.data)||void 0===e?void 0:e.obj)||{trainings:[],internships:[],user:""})}catch(e){console.error("Failed to fetch certificates:",e),f.Am.error("Error fetching certificates: "+e.message)}};fetchCertificates()},[]);let o=(0,i.useMemo)(()=>({lists:"training"===r?e.trainings:e.internships,user:e.user}),[e,r]);return(0,s.jsxs)(a.Z,{children:[(0,s.jsx)(x.Z,{title:"Certificates | NullClass"}),(0,s.jsx)(n.ZP,{item:!0,xs:12,children:(0,s.jsx)("div",{className:"flex justify-center w-full",children:(0,s.jsxs)(g.Z,{color:"success",value:r,exclusive:!0,onChange:(e,t)=>t&&l(t),"aria-label":"certificate type",children:[(0,s.jsx)(m.Z,{value:"training","aria-label":"training",children:"Training"}),(0,s.jsx)(m.Z,{value:"internship","aria-label":"internship",children:"Internship"})]})})}),(0,s.jsx)(n.ZP,{item:!0,xs:12,className:"mt-3",children:"training"===r?(0,s.jsx)(p.Z,{certificates:o}):(0,s.jsx)(Certificates_Internships,{certificates:o})})]})}},58518:function(e,t,r){"use strict";var s=r(5121),i=r(93345),n=r(93791),a=r(91444),c=r(47e3),l=r(11163),o=r.n(l);s.Z.defaults.baseURL=i.z0,s.Z.interceptors.response.use(e=>e,e=>{if(!e.response||401!==e.response.status&&403!==e.response.status)return Promise.reject(e);(0,n.kT)("token"),a.Am.error("Session Expired Please Login Again"),(0,c.Z)(),o().push("/login")});let getToken=e=>(0,n.ej)("token",e),u={data:null,error:{message:"Need Login"}},successRes=e=>({data:e,error:null}),errorRes=e=>({data:null,error:e}),get=async(e,t,r,i)=>{try{let n=getToken(r);if(n||i){let r=await s.Z.get(e,{headers:{authorization:"Bearer "+n,...t}});return successRes(r.data)}return u}catch(e){return errorRes(e)}},post=async(e,t,r,i,n)=>{try{let a=getToken(i);if(a||n){let i=await s.Z.post(e,t,{headers:{authorization:"Bearer "+a,...r}});return successRes(i.data)}return u}catch(e){return errorRes(e)}},patch=async(e,t,r,i)=>{try{let n=getToken(i);if(n){let i=await s.Z.patch(e,t,{headers:{authorization:"Bearer "+n,...r}});return successRes(i.data)}return u}catch(e){return errorRes(e)}},update=async(e,t,r,i)=>{try{let n=getToken(i);if(n){let i=await s.Z.put(e,t,{headers:{authorization:"Bearer "+n,...r}});return successRes(i.data)}return u}catch(e){return errorRes(e)}},remove=async(e,t,r,i)=>{try{let n=getToken(r);if(n||i){let r=await s.Z.delete(e,{headers:{authorization:"Bearer "+n,...t}});return successRes(r.data)}return u}catch(e){return errorRes(e)}};t.Z={get,post,patch,update,remove}}},function(e){e.O(0,[1778,260,5443,7847,4885,8717,5675,5615,3615,9417,1664,5720,2721,4873,2747,7846,9774,2888,179],function(){return e(e.s=51510)}),_N_E=e.O()}]);